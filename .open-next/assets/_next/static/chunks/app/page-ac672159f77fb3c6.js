(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(5155),a=t(2115),l=t(7969),i=t(6874),c=t.n(i);function o(){let[e,s]=(0,a.useState)({usuarios:0,clases:0,reservas:0}),[t,i]=(0,a.useState)(!0),[o,x]=(0,a.useState)([]),[n,d]=(0,a.useState)([]);return(0,a.useEffect)(()=>{(async()=>{try{let[e,t,r]=await Promise.all([fetch("/api/usuarios"),fetch("/api/clases"),fetch("/api/reservas")]),a=await e.json(),l=await t.json(),i=await r.json(),c=Array.isArray(a)?a.filter(e=>{let s=e.activo;return!1===s||0===s||"0"===s||null==s}).slice(0,5):[];x(c);let o=Array.isArray(i)?i.slice(0,5):[];d(o),s({usuarios:Array.isArray(a)?a.length:0,clases:Array.isArray(l)?l.length:0,reservas:Array.isArray(i)?i.length:0})}catch(e){console.error("Error fetching stats:",e)}finally{i(!1)}})()},[]),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 overflow-x-hidden",children:[(0,r.jsx)(l.A,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-6 lg:py-8",children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4 sm:mb-6 lg:mb-8",children:"Dashboard"}),t?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-600",children:"Cargando estad\xedsticas..."})}):(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:e.usuarios}),(0,r.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"Alumnos Registrados"}),(0,r.jsx)(c(),{href:"/usuarios",className:"text-purple-600 hover:text-purple-700 mt-3 sm:mt-4 inline-block text-sm sm:text-base",children:"Ver alumnos →"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:e.clases}),(0,r.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"Clases Disponibles"}),(0,r.jsx)(c(),{href:"/clases",className:"text-purple-600 hover:text-purple-700 mt-3 sm:mt-4 inline-block text-sm sm:text-base",children:"Ver clases →"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:e.reservas}),(0,r.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"Reservas Activas"}),(0,r.jsx)(c(),{href:"/calendario",className:"text-purple-600 hover:text-purple-700 mt-3 sm:mt-4 inline-block text-sm sm:text-base",children:"Ver calendario →"})]})]}),o.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6 mb-6 sm:mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Alumnos Desactivados"}),(0,r.jsx)(c(),{href:"/usuarios?filter=desactivados",className:"text-purple-600 hover:text-purple-700 text-sm sm:text-base",children:"Ver todos →"})]}),(0,r.jsx)("div",{className:"space-y-3",children:o.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.nombre," ",e.apellido]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.telefono})]}),(0,r.jsx)("span",{className:"px-2 py-1 bg-red-600 text-white text-xs rounded-full",children:"Desactivado"})]},e.id))})]}),n.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6 mb-6 sm:mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Inscripciones Recientes"}),(0,r.jsx)(c(),{href:"/calendario",className:"text-purple-600 hover:text-purple-700 text-sm sm:text-base",children:"Ver todas →"})]}),(0,r.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.nombre," ",e.apellido]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.dia," ",e.hora,e.clase_nombre&&" - ".concat(e.clase_nombre)]})]}),(0,r.jsx)("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded-full",children:"Activa"})]},e.id))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:"Accesos R\xe1pidos"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[(0,r.jsxs)(c(),{href:"/usuarios",className:"block p-4 border-2 border-purple-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Gestionar Alumnos"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Agregar, editar o eliminar alumnos del sistema"})]}),(0,r.jsxs)(c(),{href:"/clases",className:"block p-4 border-2 border-purple-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Gestionar Clases"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Ver y administrar los horarios de clases disponibles"})]}),(0,r.jsxs)(c(),{href:"/calendario",className:"block p-4 border-2 border-purple-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Ver Calendario"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Ver el calendario de clases de los pr\xf3ximos 30 d\xedas"})]})]})]})]})]})}},5495:(e,s,t)=>{Promise.resolve().then(t.bind(t,1057))},7969:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var r=t(5155),a=t(6874),l=t.n(a),i=t(5695);function c(){let e=(0,i.useRouter)(),s=async()=>{await fetch("/api/auth/logout",{method:"POST"}),e.push("/login"),e.refresh()};return(0,r.jsx)("nav",{className:"bg-purple-600 text-white shadow-lg sticky top-0 z-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4 lg:space-x-8 overflow-x-auto",children:[(0,r.jsx)(l(),{href:"/",className:"text-lg sm:text-xl font-bold whitespace-nowrap",children:"Clases Bot"}),(0,r.jsx)(l(),{href:"/usuarios",className:"hover:text-purple-200 transition-colors text-sm sm:text-base whitespace-nowrap",children:"Alumnos"}),(0,r.jsx)(l(),{href:"/clases",className:"hover:text-purple-200 transition-colors text-sm sm:text-base whitespace-nowrap",children:"Clases"}),(0,r.jsx)(l(),{href:"/calendario",className:"hover:text-purple-200 transition-colors text-sm sm:text-base whitespace-nowrap",children:"Calendario"})]}),(0,r.jsx)("button",{onClick:s,className:"hover:text-purple-200 transition-colors text-xs sm:text-sm whitespace-nowrap px-2 sm:px-0",children:"Salir"})]})})})}}},e=>{e.O(0,[244,441,964,358],()=>e(e.s=5495)),_N_E=e.O()}]);